var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&l(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&l(e,n,t[n]);return e},c=(e,a)=>t(e,n(a));import{r,o as u,c as m,w as d,a as p,b as h,t as g,F as _,d as f,u as v,e as y,f as k,g as b,h as I,i as O,j as E,k as L,K as A,l as D,m as C,p as P,n as T,q as w,s as R,v as N,x as j,y as S,z as x,N as V,A as K,B as $,C as F,D as M,E as U,G as q,H as J,I as z,J as H}from"./vendor.a43a2890.js";var B={namespaced:!0,state:{tagsList:[]},getters:{},mutations:{SET_DATA(e,t){e.tagsList.filter((e=>e.key===t.key)).length>0||e.tagsList.push(t)},DEL_DATA(e,t){const n=e.tagsList.findIndex((e=>e.key===t.targetKey));e.tagsList.splice(n,1)},setTagNavList(e,t){let n=[];t&&(n=[...t]),e.tagsList=n},closeLeftTabs(e,t){const n=e.tagsList.findIndex((e=>e.key===t.key));e.tagsList.splice(0,n)},closeRightTabs(e,t){const n=e.tagsList.findIndex((e=>e.key===t.key));e.tagsList.splice(n+1)},closeAnthorTabs(e,t){e.tagsList=e.tagsList.filter((e=>e.key===t.key))}},actions:{addNavItem({commit:e,state:t},n){e("SET_DATA",n)},removeNavItem({commit:e,state:t},n){e("DEL_DATA",n)}}};var G={namespaced:!0,state:{userInfo:{},accesstoken:"",role:localStorage.getItem("userInfo"),info:"",isNetwork:!0},getters:{getUserInfo(e){const t=localStorage.getItem("userInfo");return JSON.parse(t)}},mutations:{changeNetwork(e,t){e.isNetwork=t},setUserInfo(e,t){localStorage.setItem("userInfo",JSON.stringify(t)),localStorage.setItem("permissions",JSON.stringify(t)),localStorage.setItem("accesstoken","accesstoken"),e.userInfo=c(i({},t),{accesstoken:"accesstoken"})},loginout(e,t){localStorage.removeItem("userInfo"),localStorage.removeItem("accesstoken")},setRole(e,t){const n=t.role&&t.role.value,a=t.router,o=t.store;e.info={role:n},localStorage.setItem("info",JSON.stringify(n)),o.dispatch("app/newRoutes",n),o.getters["app/addRouters"].forEach((e=>{a.addRoute(e)}))}},actions:{login:({state:e,commit:t},n)=>new Promise(((e,a)=>{"superAdmin"===n.user&&"888888"===n.password?setTimeout((function(){t("setUserInfo",n),e({result:1})}),2e3):setTimeout((function(){e({result:0})}),2e3)})),setRole({commit:e},t){e("setRole",t)}}};let W;const Q={},X=function(e,t){if(!t||0===t.length)return e();if(void 0===W){const e=document.createElement("link").relList;W=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`./${e}`)in Q)return;Q[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":W,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))},Y={name:"SideMenuItem",props:{parentItem:{type:Object,default:()=>{}}},computed:{children(){return this.parentItem.children}}};Y.render=function(e,t,n,a,o,s){const l=r("a-menu-item"),i=r("side-menu-item",!0),c=r("a-sub-menu");return u(),m(c,{key:n.parentItem.path},{title:d((()=>[(u(),m(p(e.$antIcons[n.parentItem.meta.icon]))),h("span",null,g(n.parentItem.meta.title),1)])),default:d((()=>[(u(!0),m(_,null,f(s.children,(t=>(u(),m(_,null,[t.children?(u(),m(i,{key:t.path,"parent-item":t},null,8,["parent-item"])):(u(),m(l,{key:t.path},{default:d((()=>[(u(),m(p(e.$antIcons[t.meta.icon]))),h("span",null,g(t.meta.title),1)])),_:2},1024))],64)))),256))])),_:1})};const Z={components:{SideMenuItem:Y},setup(){const e=v(),t=y(),n=k(),a=b((()=>e.getters["app/addRouters"])),o=I([]);let s=b((()=>[n.name]));O((()=>n.path),(()=>{const{path:t,meta:a,name:o}=n;e.dispatch("tagNav/addNavItem",{name:o,key:t,path:t,meta:a})}));return c(i({},{clickSMItem(e){const{keyPath:n,key:a}=e;if(n.length>1){const e=n.reverse().join("/");t.push({path:`/${e}`})}else t.push({path:`/${a}`})}}),{routes:a,selectedKeys:s,openKeys:o})}};Z.render=function(e,t,n,a,o,s){const l=r("side-menu-item"),i=r("a-menu-item"),c=r("a-menu");return u(),m(_,null,[E(e.$slots,"default"),h(c,{openKeys:a.openKeys,"onUpdate:openKeys":t[1]||(t[1]=e=>a.openKeys=e),selectedKeys:a.selectedKeys,"onUpdate:selectedKeys":t[2]||(t[2]=e=>a.selectedKeys=e),theme:"dark",mode:"inline",onClick:e.clickSMItem},{default:d((()=>[(u(!0),m(_,null,f(a.routes,(t=>(u(),m(_,null,[t.meta&&t.meta.hideInMenu?L("",!0):(u(),m(_,{key:0},[t.children&&t.children.length>0?(u(!0),m(_,{key:0},f(t.children,(t=>(u(),m(_,null,[t.children?(u(),m(l,{key:t.path,"parent-item":t},null,8,["parent-item"])):(u(),m(i,{key:`${t.path}`},{default:d((()=>[(u(),m(p(e.$antIcons[t.meta.icon]))),h("span",null,g(t.meta.title),1)])),_:2},1024))],64)))),256)):L("",!0)],64))],64)))),256))])),_:1},8,["openKeys","selectedKeys","onClick"])],64)};const ee={setup(){const e=v(),t=b((()=>e.state.tagNav.tagsList)),n=b((()=>[...t.value.length?t.value.filter((e=>!(e.meta&&e.meta.notCache))).map((e=>e.name)):[]]));return{tagNavList:t,cacheList:n}}};ee.render=function(e,t,n,a,o,s){const l=r("router-view"),i=r("a-layout-content");return u(),m(i,{class:"ant-layout-content",style:{overflow:"auto"}},{default:d((()=>[h(l,null,{default:d((({Component:e})=>[(u(),m(A,{include:a.cacheList},[(u(),m(p(e)))],1032,["include"]))])),_:1})])),_:1})};const te={setup(){const e=v(),t=k(),n=y(),a=b((()=>e.state.tagNav.tagsList));let o=I("/home");function s(){e.commit("tagNav/setTagNavList",[{name:"home",key:"/home",path:"/home",meta:{title:"工作台"}}])}D((()=>{s(),n.push("/home")})),O((()=>t.path),(()=>{o.value=t.path,a.value=e.state.tagNav.tagsList}));return{activeKey:o,onEdit:(t,o)=>{"add"!==o&&(t=>{let o=a.value.findIndex((e=>e.key===t));e.dispatch("tagNav/removeNavItem",{targetKey:t}),o=o>=a.value.length?a.value.length-1:o;let l="";0===a.value.length?(s(),l="/home"):l=a.value[o].path,n.push(l)})(t)},tagsNavList:a,onTabClick:e=>{const{path:a}=t;a!==e&&n.push(e)},closeLeft:(t,a)=>{e.commit("tagNav/closeLeftTabs",t),o.value=t.key,n.replace(t.key)},closeRight:(t,a)=>{e.commit("tagNav/closeRightTabs",t),o.value=t.key,n.replace(t.key)},closeOther:t=>{e.commit("tagNav/closeAnthorTabs",t),o.value=t.key,n.replace(t.key)}}}},ne={class:"tabs-head"},ae={style:{display:"inline-block"}},oe=C(" 关闭左侧 "),se=C(" 关闭右侧 "),le=C(" 关闭其他 ");te.render=function(e,t,n,a,o,s){const l=r("vertical-right-outlined"),i=r("a-menu-item"),c=r("vertical-left-outlined"),p=r("a-menu-divider"),v=r("column-width-outlined"),y=r("a-menu"),k=r("a-dropdown"),b=r("a-tab-pane"),I=r("a-tabs");return u(),m("div",ne,[h(I,{activeKey:a.activeKey,"onUpdate:activeKey":t[1]||(t[1]=e=>a.activeKey=e),"hide-add":"",type:"editable-card",onEdit:a.onEdit,onTabClick:a.onTabClick},{default:d((()=>[(u(!0),m(_,null,f(a.tagsNavList,((e,t)=>(u(),m(b,{key:e.path},{tab:d((()=>[h(k,{trigger:["contextmenu"]},{overlay:d((()=>[h(y,{style:{"user-select":"none"}},{default:d((()=>[h(i,{key:"close-left",disabled:0===t,onClick:n=>a.closeLeft(e,t)},{default:d((()=>[h(l),oe])),_:2},1032,["disabled","onClick"]),h(i,{key:"close-right",disabled:t===a.tagsNavList.length-1,onClick:n=>a.closeRight(e,t)},{default:d((()=>[h(c),se])),_:2},1032,["disabled","onClick"]),h(p),h(i,{key:"close-other",disabled:1===a.tagsNavList.length,onClick:t=>a.closeOther(e)},{default:d((()=>[h(v),le])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),default:d((()=>[h("div",ae,g(e.meta.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["activeKey","onEdit","onTabClick"])])};const ie={name:"Header",components:{TagsNav:te},props:{collapsed:{type:Boolean,default:!0}},emits:["update:collapsed"],setup(e,t){const n=w({fullscreenIcon:"FullscreenOutlined"}),a=v(),o=k(),s=y(),l=b((()=>o.matched&&o.matched.map((e=>({name:e.name,path:e.path,title:e.meta.title})))));return document.addEventListener("fullscreenchange",(()=>n.fullscreenIcon=null!==document.fullscreenElement?"FullscreenExitOutlined":"FullscreenOutlined")),c(i({},R(n)),{handleCollapsed:function(e){t.emit("update:collapsed",!e)},breadcrumbList:l,loginout:async function(){await a.commit("login/loginout"),s.push("/login")},toggleFullScreen:function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}})}},ce=N("data-v-886a6ec2");P("data-v-886a6ec2");const re={class:"ant-layout-header"},ue={class:"ant-layout-breadcrumb",style:{flex:"1"}},me=C("工作台"),de=C("/"),pe={class:"right-box"},he={class:"full-screen-icon"},ge=h("div",{class:"header-avatar"},[h("span",{class:"avatar ant-avatar-sm ant-avatar"},[h("img",{src:"https://z3.ax1x.com/2021/05/18/ghV5RI.png"})]),h("span",{class:"name"},"changan")],-1);T();const _e=ce(((e,t,n,a,o,s)=>{const l=r("a-breadcrumb-item"),i=r("a-breadcrumb-separator"),c=r("a-breadcrumb"),d=r("a-menu-item"),v=r("a-menu"),y=r("a-dropdown"),k=r("tags-nav");return u(),m(_,null,[h("header",re,[n.collapsed?(u(),m(p("MenuFoldOutlined"),{key:0,class:"trigger",onClick:t[1]||(t[1]=e=>a.handleCollapsed(n.collapsed))})):(u(),m(p("MenuUnfoldOutlined"),{key:1,class:"trigger",onClick:t[2]||(t[2]=e=>a.handleCollapsed(n.collapsed))})),h("div",ue,[h(c,{separator:""},{default:ce((()=>[h(l,null,{default:ce((()=>[me])),_:1}),(u(!0),m(_,null,f(a.breadcrumbList,(e=>(u(),m(_,{key:e.name},[e.title?(u(),m(i,{key:0},{default:ce((()=>[de])),_:1})):L("",!0),h(l,null,{default:ce((()=>[C(g(e.title),1)])),_:2},1024)],64)))),128))])),_:1})]),h("div",pe,[h("div",he,[(u(),m(p(e.fullscreenIcon),{style:{fontSize:"20px"},onClick:a.toggleFullScreen},null,8,["onClick"]))]),h(y,null,{overlay:ce((()=>[h(v,null,{default:ce((()=>[h(d,null,{default:ce((()=>[h("a",{href:"javascript:;",onClick:t[3]||(t[3]=(...e)=>a.loginout&&a.loginout(...e))},"退出登录")])),_:1})])),_:1})])),default:ce((()=>[ge])),_:1})])]),h("div",null,[h(k)])],64)}));ie.render=_e,ie.__scopeId="data-v-886a6ec2";const fe={name:"PageFooter",props:["linkList","copyright"]},ve=N("data-v-06793117");P("data-v-06793117");const ye={class:"footer"},ke={class:"links"},be={class:"copyright"},Ie=C("Copyright");T();const Oe=ve(((e,t,n,a,o,s)=>{const l=r("GithubOutlined"),i=r("CopyrightCircleOutlined");return u(),m("div",ye,[h("div",ke,[h("a",{target:"_blank",href:n.linkList},[h(l)],8,["href"])]),h("div",be,[Ie,h(i),C(g(n.copyright),1)])])}));fe.render=Oe,fe.__scopeId="data-v-06793117";const Ee={components:{SideMenu:Z,Content:ee,Header:ie,PageFooter:fe},setup:()=>({collapsed:I(!1)})},Le={class:"logo-con"},Ae={key:0,src:"./favicon.ico"},De={key:1},Ce=h("img",{src:"./favicon.ico"},null,-1),Pe=h("h1",null,"Vue3.0 Admin",-1);Ee.render=function(e,t,n,a,o,s){const l=r("side-menu"),i=r("a-layout-sider"),c=r("Header"),p=r("Content"),g=r("page-footer"),_=r("a-layout-footer"),f=r("a-layout");return u(),m(f,{id:"components-layout-demo-custom-trigger"},{default:d((()=>[h(i,{collapsed:a.collapsed,"onUpdate:collapsed":t[1]||(t[1]=e=>a.collapsed=e),trigger:null,collapsible:"",width:"230",style:{overflow:"auto",height:"100vh"}},{default:d((()=>[h(l,null,{default:d((()=>[h("div",Le,[a.collapsed?(u(),m("img",Ae)):(u(),m("a",De,[Ce,Pe]))])])),_:1})])),_:1},8,["collapsed"]),h(f,{class:"el-container is-vertical"},{default:d((()=>[h(c,{collapsed:a.collapsed,"onUpdate:collapsed":t[2]||(t[2]=e=>a.collapsed=e)},null,8,["collapsed"]),h(p),h(_,{class:"ant-layout-footer"},{default:d((()=>[h(g,{"link-list":"https://github.com/changan-kxl/changanAdmin",copyright:"2021 常安出品"})])),_:1})])),_:1})])),_:1})};const Te={name:"CommerViews",setup(){const e=k(),t=v(),n=b((()=>[e.meta&&e.meta.notCache?e.name:""])),a=b((()=>t.state.tagNav.tagsList)),o=b((()=>[...a.value.length?a.value.filter((e=>!(e.meta&&e.meta.notCache))).map((e=>e.name)):[]]));return{tagNavList:a,cacheList:o,notCacheName:n}}};Te.render=function(e,t,n,a,o,s){const l=r("router-view");return u(),m("div",null,[h(l,null,{default:d((({Component:e})=>[(u(),m(A,{include:a.cacheList,exclude:a.notCacheName},[(u(),m(p(e)))],1032,["include","exclude"]))])),_:1})])};const we=[{path:"/login",name:"login",meta:{title:"登录"},component:()=>X((()=>import("./index.400eb27b.js")),["assets/index.400eb27b.js","assets/index.b9c6a31c.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"/",component:Ee,children:[{path:"home",name:"home",meta:{title:"首页",icon:"AntDesignOutlined"},component:()=>X((()=>import("./index.63d3ac31.js")),["assets/index.63d3ac31.js","assets/index.c4805f2c.css","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]},{path:"/403",name:"403",meta:{title:"403",notCache:!0,icon:"AntDesignOutlined"},component:()=>X((()=>import("./403.8807fff9.js")),["assets/403.8807fff9.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"/500",name:"500",meta:{title:"500",notCache:!0,icon:"AntDesignOutlined"},component:()=>X((()=>import("./500.03f1362d.js")),["assets/500.03f1362d.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},...[{path:"/",component:Ee,children:[{path:"/tables/detail",name:"tablesDetail",meta:{title:"详情"},component:()=>X((()=>import("./detail.9536e6fc.js")),["assets/detail.9536e6fc.js","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]}],{path:"/:pathMatch(.*)*",name:"error_404",meta:{title:"404",icon:"AntDesignOutlined"},component:()=>X((()=>import("./404.de070519.js")),["assets/404.de070519.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}],Re=[{path:"/",component:Ee,children:[{path:"cache",name:"cache",meta:{icon:"AntDesignOutlined",title:"组件缓存"},component:Te,children:[{path:"cachePage",name:"cachePage",meta:{icon:"AntDesignOutlined",title:"组件缓存",notCache:!1},component:()=>X((()=>import("./cache-page.f67d60d0.js")),["assets/cache-page.f67d60d0.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"nocachePage",name:"nocachePage",meta:{icon:"AntDesignOutlined",title:"组件不缓存",notCache:!0},component:()=>X((()=>import("./noCache-page.76dd1f4f.js")),["assets/noCache-page.76dd1f4f.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]}]},{path:"/",component:Ee,children:[{path:"tables",name:"tables",meta:{mode:"multiple",title:"表格",icon:"AntDesignOutlined",notCache:!1},component:()=>X((()=>import("./tables.5310c96a.js")),["assets/tables.5310c96a.js","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]},{path:"/",component:Ee,children:[{path:"level_1",name:"level_1",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"多级菜单"},component:Te,children:[{path:"level_2_1",name:"level_2_1",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"level_2_1"},component:Te,children:[{path:"level_2_1_1",name:"level_2_1_1",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"level_2_1_1"},component:Te,children:[{path:"level_2_1_1_1",name:"level_2_1_1_1",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"level_2_1_1_1"},component:()=>X((()=>import("./level_2_1_1_1.362116ab.js")),["assets/level_2_1_1_1.362116ab.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"level_2_1_1_2",name:"level_2_1_1_2",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"level_2_1_1_2"},component:()=>X((()=>import("./level_2_1_1_2.3fbe1137.js")),["assets/level_2_1_1_2.3fbe1137.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]},{path:"level_2_1_2",name:"level_2_1_2",meta:{mode:"multiple",icon:"AntDesignOutlined",title:"level_2_1_2"},component:()=>X((()=>import("./level_2_1_2.d65e3f31.js")),["assets/level_2_1_2.d65e3f31.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]},{path:"level_2_2",name:"level_2_2",meta:{icon:"AntDesignOutlined",title:"level_2_2"},component:()=>X((()=>import("./level_2_2.e4d5ecbf.js")),["assets/level_2_2.e4d5ecbf.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]}]},{path:"/",component:Ee,children:[{path:"permission",name:"permission",meta:{icon:"AntDesignOutlined",title:"权限控制"},component:Te,children:[{path:"button",name:"button",meta:{icon:"AntDesignOutlined",title:"按钮权限"},component:()=>X((()=>import("./button.49ce25ed.js")),["assets/button.49ce25ed.js","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css"])},{path:"admin-page",name:"admin-page",meta:{icon:"AntDesignOutlined",title:"admin可见页",role:["admin"]},component:()=>X((()=>import("./admin-page.5b562743.js")),["assets/admin-page.5b562743.js","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"superadmin-page",name:"superadmin-page",meta:{icon:"AntDesignOutlined",title:"super admin可见页",role:["superAdmin"]},component:()=>X((()=>import("./superadmin-page.950733fc.js")),["assets/superadmin-page.950733fc.js","assets/pageLayout.00166ff2.js","assets/pageLayout.016e09ae.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]}]},{path:"/",component:Ee,children:[{path:"exception",name:"exception",meta:{icon:"AntDesignOutlined",title:"异常页"},component:Te,children:[{path:"500",name:"500",meta:{icon:"AntDesignOutlined",title:"500"},component:()=>X((()=>import("./500.03f1362d.js")),["assets/500.03f1362d.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"403",name:"403",meta:{icon:"AntDesignOutlined",title:"403"},component:()=>X((()=>import("./403.8807fff9.js")),["assets/403.8807fff9.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])},{path:"404",name:"404",meta:{icon:"AntDesignOutlined",title:"404"},component:()=>X((()=>import("./404.de070519.js")),["assets/404.de070519.js","assets/ExceptionPage.915f93bc.js","assets/ExceptionPage.67eab4ff.css","assets/vendor.a43a2890.js","assets/vendor.36859c2b.css"])}]}]}];var Ne=j({modules:{tagNav:B,user:G,app:{namespaced:!0,state:{routers:[],Menus:[]},getters:{addRouters:e=>e.Menus},mutations:{setRouters:(e,t)=>{e.Menus=t,e.routers=we.concat(t)}},actions:{newRoutes({commit:e},t){let n=[...Re];!function e(t,n){for(let a=0;a<t.length;a++)t[a].meta&&t[a].meta.role&&-1===t[a].meta.role.indexOf(n)&&(t.splice(a,1),a=0!==a?a-1:a),t[a]&&t[a].children&&t[a].children.length&&e(t[a].children,n)}(n,t),e("setRouters",n)}}}},state:{},getters:{},mutations:{},actions:{}});const je=x({history:S(),routes:we.concat(Re)});const Se={name:"App"},xe={id:"app"};Se.render=function(e,t,n,a,o,s){const l=r("router-view");return u(),m("div",xe,[h(l)])};V.configure({showSpinner:!1});var Ve={beforeEach:[(e,t,n)=>{V.isStarted()||V.start(),n()},(e,t,n,a)=>{const{message:o}=a,s=localStorage.getItem("accesstoken");({names:["404","403"],paths:["/login"],includes(e){return this.names.includes(e.name)||this.paths.includes(e.path)}}).includes(e)||s?(e.path,n()):(o.warning("登录已失效，请重新登录"),n({path:"/login"}))},(e,t,n,a)=>{!async function(){const{store:e,router:t}=a,n=JSON.parse(localStorage.getItem("userInfo"))||{};await e.dispatch("app/newRoutes",n&&n.user);let o=e.getters["app/addRouters"];for(let a of o)await t.addRoute(a)}(),n()}],afterEach:[()=>{V.done()}]};const Ke={has:{mounted:(e,t,n)=>{((e,t,n)=>{let a=["superAdmin"];a.length?a.includes(t.value)||e.remove():e.parentNode.removeChild(e)})(e,t)}}};const $e=()=>{je.replace({path:"/login",query:{redirect:je.currentRoute.fullPath}})};var Fe=K.create({timeout:12e3});Fe.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",Fe.interceptors.request.use((e=>{const t=localStorage.getItem("accesstoken");return t&&(e.headers.Authorization=t),e}),(e=>Promise.error(e))),Fe.interceptors.response.use((e=>200===e.status?Promise.resolve(e):Promise.reject(e)),(e=>{const{response:t}=e;return t?(((e,t)=>{switch(e){case 401:$e();break;case 403:localStorage.removeItem("token"),setTimeout((()=>{$e()}),1e3);break;case 404:$.open({message:"错误",description:"请求不存在.",icon:F(M,{style:"color: #ff7875"}),onClick:()=>{}});break;default:;}})(t.status,t.data.message),Promise.reject(t)):window.navigator.onLine?Promise.reject(e):(Ne.commit("user/changeNetwork",!1),void $.open({message:"错误",description:"请求超时或断网.",icon:F(M,{style:"color: #ff7875"}),onClick:()=>{}}))}));const Me=[{username:"admin",password:"123",role:"admin"},{username:"editor",password:"456",role:"editor"},{username:"xueyue",password:"123456",role:"admin"}];var Ue=[...[{url:"/api/login",method:"post",timeout:1e3,statusCode:200,response:({body:e})=>{let t=!1,n="";return Me.forEach((a=>{a.username===e.username&&a.password===e.password&&(t=!0,n=a.role)})),t?{code:200,message:"登录成功",role:n,token:(new Date).getTime().toString(32)}:{code:400,message:"用户名或密码错误"}}},{url:"/api/user-list",method:"get",timeout:100,statusCode:200,response:({query:e})=>({code:200,message:"success",list:Me})}]];const qe=q(Se);Object.keys(J).forEach((e=>{qe.component(e,J[e])})),qe.config.globalProperties.$antIcons=J,qe.config.globalProperties.$message=z,qe.config.globalProperties.$http=Fe,qe.use(Ne),qe.use(je),qe.use(H),function({router:e,message:t,store:n,app:a}){!function(e,t){const{app:n}=t;if(e)for(let a of Object.keys(e))n.directive(a,e[a])}(Ke,{app:a}),function(e,t){const{beforeEach:n,afterEach:a}=e,{router:o}=t;n.forEach((e=>{e&&"function"==typeof e&&o.beforeEach(((n,a,o)=>e(n,a,o,t)))})),a.forEach((e=>{e&&"function"==typeof e&&o.afterEach(((n,a)=>e(n,a,t)))}))}(Ve,{router:e,message:t,store:n,app:a})}({router:je,message:z,store:Ne,app:qe}),qe.mount("#app"),U([...Ue]);export{fe as _,Fe as i};
